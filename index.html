<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <!-- Google Tag Manager -->
  <script>(function (w, d, s, l, i) {
      w[l] = w[l] || []; w[l].push({
        'gtm.start':
          new Date().getTime(), event: 'gtm.js'
      }); var f = d.getElementsByTagName(s)[0],
        j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src =
          'https://www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);
    })(window, document, 'script', 'dataLayer', 'GTM-5BHKHC2N');</script>
  <!-- End Google Tag Manager -->

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Emprego Tech Garantido | Santos Tech</title>
  <meta name="description"
    content="Empregabilidade garantida para jovens: curso com apoio de empresas, mentorias e garantia de contrata√ß√£o ou reembolso.">
  <style>
    @keyframes pulse {
      0% {
        transform: scale(1);
        box-shadow: 0 0 0 0 rgba(37, 211, 102, 0.7);
      }

      70% {
        transform: scale(1.05);
        box-shadow: 0 0 0 10px rgba(37, 211, 102, 0);
      }

      100% {
        transform: scale(1);
        box-shadow: 0 0 0 0 rgba(37, 211, 102, 0);
      }
    }

    body {
      margin: 0;
      font-family: sans-serif;
      background: #fff;
      color: #111;
      line-height: 1.5;
    }

    header,
    footer {
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.6);
      text-align: center;
      padding: 1em;
    }

    .hero {
      padding: 2em 1em;
      text-align: center;
      min-height: 320px;
      /* altura m√≠nima para prevenir shift */
    }

    .hero-title {
      font-size: 2.2em;
      font-family: 'Anton', sans-serif;
      font-weight: 400;
      margin-bottom: 0.5em;
    }

    .hero p {
      max-width: 320px;
      margin: 0 auto 1em;
    }

    .btn {
      background: radial-gradient(circle at center, #ff0033 0%, #c40028 100%);
      box-shadow: 0 0 12px rgba(255, 0, 0, 0.5);
      color: #ffffff;
      border: none;
      border-radius: 8px;
      padding: 1em;
      font-weight: bold;
      text-decoration: none;
      display: inline-block;
    }

    .section-title {
      font-size: 1.2em;
      margin: 2em 0 1em;
      text-align: center;
    }

    .videos {
      display: grid;
      gap: 1em;
      padding: 0 1em;
    }

    .video-card iframe {
      width: 100%;
      height: 215px;
      border: none;
      border-radius: 8px;
    }

    .benefits {
      list-style: none;
      padding: 0;
      margin: 0 auto;
      text-align: center;
      max-width: 320px;
    }

    .benefits li {
      padding: 0.7em 0;
      border-bottom: 1px solid #ccc;
      font-size: 16px;
    }

    .cta {
      text-align: center;
      margin: 2em 0;
    }

    .whatsapp-btn {
      position: fixed;
      right: 15px;
      bottom: 15px;
      width: 64px;
      height: 64px;
      border-radius: 50%;
      background: url('https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg') no-repeat center center / 70% #25D366;
      border: none;
      text-decoration: none;
      display: inline-block;
      animation: pulse 2s infinite;
    }

    .subheadline {
      font-weight: bold;
      font-size: 1.15em;
      /* opcional, se quiser dar uma leve destacada */
    }

    .btn-form {
      background: #25D366;
      border: none;
      color: white;
      font-size: 16px;
      font-weight: bold;
      cursor: pointer;
      padding: 12px;
      width: 100%;
      border-radius: 6px;
    }

    #leadForm input {
      display: block;
      margin: 0 auto 15px auto;
      padding: 10px;
      width: 100%;
      max-width: 100%;
      box-sizing: border-box;
      font-size: 16px !important;
    }

    #leadForm {
      text-align: center;
    }

    @font-face {
      font-family: 'Anton';
      src: url('./fonts/anton-v25-latin-regular.woff2') format('woff2');
      font-weight: normal;
      font-style: normal;
      font-display: swap;
    }

    .logo {
      max-width: 100%;
      height: auto;
    }

    #vagas-num {
      background: #fff;
      color: #e4032b;
      border-radius: 8px;
      padding: 4px 18px;
      font-size: 1.5em;
      font-weight: 900;
      box-shadow: 0 2px 8px #c3c3c34c;
      margin: 0 8px;
      letter-spacing: 0.5px;
    }
  </style>
</head>

<body>
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5BHKHC2N" height="0" width="0"
      style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->

  <header style="text-align: center; padding: 20px 0;">
    <img src="./img/sgpreto.svg" alt="Logo Santos Tech" class="logo" width="180" height="60">
  </header>

  <div id="vagas-barra"
    style="width:100%;background:#e4032b;color:#fff;text-align:center;padding:8px 0;font-weight:600;font-size:1.1rem;letter-spacing:1px;border-radius:8px 8px 0 0;display:flex;justify-content:center;align-items:center;gap:10px;">
    <span>√öltimas</span>
    <span id="vagas-num"
      style="background:#fff;color:#e4032b;border-radius:8px;padding:4px 18px;font-size:1.5em;font-weight:900;box-shadow:0 2px 8px #c3c3c34c;">13</span>
    <span>vagas para o programa <br>de emprego garantido</span>
  </div>

  <main>
    <section class="hero">
      <h1 class="hero-title">SEU FILHO NO PRIMEIRO <br> EMPREGO TECH <br><span style="color:#d9002c">OU SEU DINHEIRO DE
          VOLTA</span></h1>
      <p class="subheadline">
        <span style="color:#d9002c;">Mais que um curso:</span> o caminho mais r√°pido para o primeiro emprego em
        tecnologia, direto de Ribeir√£o Preto.
      </p>

      <a href="https://api.whatsapp.com/send?phone=5516992578710" class="btn">GARANTA AGORA <br> A MATR√çCULA DO SEU
        FILHO</a>
    </section>

    <section style="background-color: #ffffff; padding: 5px 20px;">
      <div style="max-width: 1200px; margin: 0 auto;">
        <h2 style="color: rgb(0, 0, 0); font-size: 28px; text-align: center; margin-top: -0.4em; margin-bottom: 30px;">
          Veja o que os pais dizem <br> sobre a transforma√ß√£o <br> dos seus filhos
        </h2>
        <div id="video-wrapper" style="display: flex; flex-direction: column; gap: 40px;">
          <!-- Todos os v√≠deos com lazy loading -->
          <!-- Este bloco ser√° duplicado com index e ID √∫nicos -->
          <!-- Os dados de v√≠deo est√£o no array abaixo -->
          <!-- Inseriremos dinamicamente os blocos -->
        </div>
        <div id="gatilhoDepoimento" style="width: 1px; height: 1px;"></div>
      </div>
    </section>

    <script async src="https://www.youtube.com/iframe_api"></script>
    <script>

      function getNameFromId(id) {
        const nomes = {
          '0J2Vl2hlOA8': 'Daiane',
          'fDcA05k9ywM': 'Elaine',
          'pDM21duy0uQ': 'Fabio',
          '9Aq5-IIvDVg': 'Ana-Julia',
          'dHgHQENMamQ': 'Valentina',
          'ysNRtA4zBxg': 'Sergio',
          'v2ArrmkxohM': 'Diego'
        };
        return nomes[id] || 'video';
      }

      const videoIds = [
        '0J2Vl2hlOA8',
        'fDcA05k9ywM',
        'pDM21duy0uQ',
        '9Aq5-IIvDVg',
        'dHgHQENMamQ',
        'ysNRtA4zBxg',
        'v2ArrmkxohM'
      ];
      const players = {}, replayStates = {}, firstPlay = {};
      const wrapper = document.getElementById("video-wrapper");

      videoIds.forEach((id, index) => {
        const div = document.createElement('div');
        div.className = "video-box lazy";
        div.dataset.index = index;
        div.dataset.id = id;
        div.style = "position: relative; padding-bottom: 56.25%; height: 0; border-radius: 12px; overflow: hidden; background-color: black; box-shadow: 0 0 15px rgba(0,0,0,0.2); cursor: pointer;";
        div.innerHTML = `
      <img src="./img/video0${index + 1}-${getNameFromId(id)}.webp" 
     alt="Depoimento ${index + 1}" 
     onclick="loadLazyVideo(${index})"
     loading="lazy" 
     decoding="async"
     style="position:absolute; top:0; left:0; width:100%; height:100%; object-fit:cover;">

        style="position:absolute; top:0; left:0; width:100%; height:100%; object-fit:cover;" alt="Depoimento ${index + 1}">
      <div onclick="loadLazyVideo(${index})"
        style="position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); z-index:2;">
        <svg width="72" height="72" viewBox="0 0 72 72" fill="none">
          <circle cx="36" cy="36" r="36" fill="#FF0000" />
          <polygon points="28,22 28,50 52,36" fill="white" />
        </svg>
      </div>
      <div style="position: absolute; left: 0; right: 0; bottom: 15px; display: flex; justify-content: center; z-index: 10;">
        <button onclick="loadLazyVideo(${index})"
          style="background: #000; color: #ffffff; border: none; border-radius: 0; padding: 10px 48px; min-width: 220px; cursor: pointer; font-size: 16px;">Assistir agora</button>
      </div>
    `;
        wrapper.appendChild(div);
      });

      function showReplayButton(index) {
        const container = document.querySelector(`.video-box.lazy[data-index="${index}"]`);
        if (!container || container.querySelector('.replay-btn-wrapper')) return;
        const wrapper = document.createElement('div');
        wrapper.className = 'replay-btn-wrapper';
        wrapper.style = 'position: absolute; left: 0; right: 0; bottom: 15px; display: flex; justify-content: center; z-index: 1002;';
        const btn = document.createElement('button');
        btn.innerHTML = 'üîÅ Repetir v√≠deo';
        btn.setAttribute('aria-label', 'Repetir v√≠deo');
        btn.style = 'background: #000; color: #FFFFFF; border: none; border-radius: 0; padding: 10px 48px; min-width: 220px; cursor: pointer; font-size: 16px; position: relative; z-index: 1002;';
        btn.onclick = function (e) {
          e.stopPropagation();
          if (players[index]) {
            players[index].seekTo(0);
            players[index].playVideo();
            btn.remove();
            replayStates[index] = false;
          }
        };
        wrapper.appendChild(btn);
        container.appendChild(wrapper);
        replayStates[index] = true;
      }

      function removeReplayButton(index) {
        const container = document.querySelector(`.video-box.lazy[data-index="${index}"]`);
        if (!container) return;
        const btn = container.querySelector('.replay-btn-wrapper');
        if (btn) btn.remove();
        replayStates[index] = false;
      }

      function pauseAllExcept(currentIndex) {
        Object.keys(players).forEach(i => {
          if (i != currentIndex && players[i]?.pauseVideo) {
            players[i].pauseVideo();
            removeReplayButton(i);
          }
        });
      }

      function loadLazyVideo(index) {
        pauseAllExcept(String(index));
        const container = document.querySelector(`.video-box.lazy[data-index="${index}"]`);
        const videoId = container.dataset.id;
        if (container && !players[index]) {
          container.innerHTML = `
        <div id="player${index}" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 1;"></div>
        <div class="unmute-btn-wrapper" style="position: absolute; left: 0; right: 0; bottom: 15px; display: flex; justify-content: center; z-index: 3;"></div>
        <div class="blocker-overlay" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 2; background: rgba(0,0,0,0); pointer-events: auto;"></div>
      `;
          requestAnimationFrame(() => {
            players[index] = new YT.Player(`player${index}`, {
              videoId: videoId,
              playerVars: {
                autoplay: 1,
                mute: 1,
                rel: 0,
                modestbranding: 1,
                controls: 1,
                playsinline: 1
              },
              events: {
                onReady: (event) => {
                  const unmuteBtn = document.createElement('button');
                  unmuteBtn.textContent = 'üîä Ativar som';
                  unmuteBtn.setAttribute('aria-label', 'Ativar ou desativar som');
                  unmuteBtn.style = 'background: #000; color: #FFFFFF; border: none; border-radius: 0; padding: 10px 48px; min-width: 220px; cursor: pointer; font-size: 16px; position: relative; z-index: 4;';
                  let isMuted = true;
                  unmuteBtn.onclick = (e) => {
                    e.stopPropagation();
                    if (isMuted) {
                      event.target.unMute();
                      event.target.seekTo(0);
                      event.target.playVideo();
                      unmuteBtn.textContent = 'üîá Desativar som';
                      unmuteBtn.style.color = '#FF0000';
                    } else {
                      event.target.mute();
                      unmuteBtn.textContent = 'üîä Ativar som';
                      unmuteBtn.style.color = '#FFFFFF';
                    }
                    isMuted = !isMuted;
                  };
                  const wrapper = container.querySelector('.unmute-btn-wrapper');
                  if (wrapper) wrapper.appendChild(unmuteBtn);
                  event.target.playVideo();
                  firstPlay[index] = true;
                },
                onStateChange: (event) => {
                  if (event.data === YT.PlayerState.ENDED) {
                    showReplayButton(index);
                  } else if (event.data === YT.PlayerState.PAUSED) {
                    if (event.target.getCurrentTime && event.target.getCurrentTime() > 1 && firstPlay[index]) {
                      showReplayButton(index);
                    }
                  } else if (event.data === YT.PlayerState.PLAYING) {
                    removeReplayButton(index);
                    pauseAllExcept(String(index));
                  }
                }
              }
            });
          });
        } else if (players[index]) {
          players[index].playVideo();
          pauseAllExcept(String(index));
          firstPlay[index] = true;
        }
      }
    </script>

    <section>
      <h2 class="section-title">Por que nossos alunos <br> s√£o contratados primeiro</h2>
      <ul class="benefits">
        <li>Empresas parceiras contratam direto da nossa escola</li>
        <li>Curso alinhado 100% com as exig√™ncias do mercado</li>
        <li>Aulas + mentorias focadas em entrevistas reais</li>
        <li>Vagas com prioridade para nossos indicados</li>
        <li>Alunos contratados com 1, 2 ou 3 meses de curso</li>
      </ul>
    </section>

    <section class="cta">
      <a href="https://api.whatsapp.com/send?phone=5516992578710" class="btn">GARANTA AGORA A MATR√çCULA DO SEU FILHO</a>
    </section>
  </main>

  <footer style="text-align: center; padding: 30px 0;">
    <img src="./img/sgpreto.svg" alt="Logo Santos Tech" width="140" height="auto"
      style="max-width: 100%; height: auto; margin-bottom: 10px;">
    <br>
    &copy; 2025 ‚Äì Todos os direitos reservados.
  </footer>

  <a href="https://api.whatsapp.com/send?phone=5516992578710&text=Tenho%20interesse%20no%20curso%20de%20tecnologia%20com%20emprego%20garantido"
    class="whatsapp-btn" aria-label="Fale conosco no WhatsApp"></a>

  <!-- Modal de Formul√°rio -->
  <div id="leadModal"
    style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.7); z-index:9999; justify-content:center; align-items:center;">
    <div
      style="background:#fff; padding:30px 20px; border-radius:12px; max-width:380px; width:90%; box-shadow:0 0 25px rgba(0,0,0,0.3); position:relative; text-align:center;">

      <!-- Bot√£o de Fechar -->
      <button onclick="closeModal()"
        style="position:absolute; top:10px; right:15px; background:none; border:none; font-size:28px; cursor:pointer; color:#999;">&times;</button>

      <h3 style="margin-bottom:25px; font-size:20px;">Antes de continuar <br> preencha os dados abaixo:</h3>

      <form id="demoForm" style="display: flex; flex-direction: column; align-items: center;">
        <label for="name" style="align-self: flex-start; font-weight: bold;">Nome</label>
        <input id="name" name="name" type="text" required placeholder="Ex: Ana Maria" maxlength="62"
          title="Somente letras, espa√ßos e acentos." oninput="this.value = this.value.replace(/[0-9]/g, '')"
          style="font-size: 16px; width:100%; max-width: 320px; padding:12px; margin-bottom:18px; border:1px solid #ccc; border-radius:8px;">

        <label for="whatsapp" style="align-self: flex-start; font-weight: bold;">Telefone</label>
        <input id="whatsapp" name="whatsapp" type="tel" required placeholder="Ex: 16999999999" maxlength="11"
          pattern="\d{11}" inputmode="numeric" title="Digite apenas 11 n√∫meros (DDD + telefone)."
          style="font-size: 16px; width:100%; max-width: 320px; padding:12px; margin-bottom:24px; border:1px solid #ccc; border-radius:8px;">

        <button type="submit" class="btn-form"
          style="width:100%; max-width: 320px; padding:14px; background:#25D366; border:none; color:white; font-size:16px; font-weight:bold; cursor:pointer; border-radius:8px;">
          Falar no WhatsApp
        </button>
      </form>
    </div>
  </div>

  <script>
    const modal = document.getElementById('leadModal');
    const form = document.getElementById('demoForm');

    function openModal() {
      modal.style.display = 'flex';
    }

    function closeModal() {
      modal.style.display = 'none';
    }

    setTimeout(openModal, 180000);

    document.querySelectorAll('a.btn').forEach(btn => {
      btn.addEventListener('click', function (e) {
        e.preventDefault();
        openModal();
      });
    });

    const scriptURL = 'https://script.google.com/macros/s/AKfycbxHg8dYymarhjXCOaJuBVFNHjxsiR82kT7l8TD_gmF-H214SlYnnmi-JmUSMfQ6j188/exec';

    form.addEventListener('submit', function (e) {
      e.preventDefault();

      const name = document.getElementById('name').value.trim();
      let whatsapp = document.getElementById('whatsapp').value.replace(/[^0-9]/g, '');
      if (whatsapp.length < 10) {
        alert('Digite um n√∫mero de WhatsApp v√°lido (com DDD).');
        return;
      }

      const formData = new FormData();
      formData.append('name', name);
      formData.append('whatsapp', whatsapp);

      fetch(scriptURL, { method: 'POST', body: formData })
        .then(response => {
          const phoneNumber = '5516992578710';
          const mensagem = encodeURIComponent('Tenho interesse no curso + programa de emprego garantido.');
          window.location.href = `https://wa.me/${phoneNumber}?text=${mensagem}`;
        })
        .catch(error => {
          alert('Erro ao enviar. Tente novamente!');
          console.error('Erro:', error);
        });

      closeModal();
    });
  </script>

  <script>
    (function () {
      const VAGAS_KEY = 'vagas_sgtech';
      const DATA_KEY = 'vagas_data_sgtech';
      const DROPS_KEY = 'vagas_hoje_drops_sgtech';
      const MIN_VAGAS = 1;
      const VAGAS_INICIAL = 13;

      const vagasEl = document.getElementById('vagas-num');

      // Helpers
      function getToday() {
        const today = new Date();
        return today.toISOString().slice(0, 10); // 'YYYY-MM-DD'
      }

      // Inicializar dados no localStorage se n√£o existem
      function initStorage() {
        if (!localStorage.getItem(VAGAS_KEY)) localStorage.setItem(VAGAS_KEY, VAGAS_INICIAL);
        if (!localStorage.getItem(DATA_KEY)) localStorage.setItem(DATA_KEY, getToday());
        if (!localStorage.getItem(DROPS_KEY)) localStorage.setItem(DROPS_KEY, '0');
      }

      function resetDropsIfDayChanged() {
        const lastDate = localStorage.getItem(DATA_KEY);
        const today = getToday();
        if (lastDate !== today) {
          localStorage.setItem(DATA_KEY, today);
          localStorage.setItem(DROPS_KEY, '0');
        }
      }

      function atualizarBarra() {
        vagasEl.textContent = localStorage.getItem(VAGAS_KEY) || VAGAS_INICIAL;
      }

      function decrementarVaga() {
        let vagas = parseInt(localStorage.getItem(VAGAS_KEY), 10) || VAGAS_INICIAL;
        if (vagas > MIN_VAGAS) {
          vagas -= 1;
          localStorage.setItem(VAGAS_KEY, vagas);
          atualizarBarra();
        }
      }

      // L√≥gica do timer de queda de vagas
      function iniciarTimerQueda() {
        let drops = parseInt(localStorage.getItem(DROPS_KEY), 10) || 0;
        const nextDropInMin = drops + 1; // 1¬∫ drop: 1min, 2¬∫: 2min, etc

        setTimeout(() => {
          let vagas = parseInt(localStorage.getItem(VAGAS_KEY), 10) || VAGAS_INICIAL;
          if (vagas > MIN_VAGAS) {
            decrementarVaga();
            drops += 1;
            localStorage.setItem(DROPS_KEY, drops);
            // Se quiser, pode rodar o pr√≥ximo timer automaticamente aqui:
            // iniciarTimerQueda();
          }
        }, nextDropInMin * 60 * 1000); // minutos -> ms
      }

      // ----------- EXECU√á√ÉO PRINCIPAL -----------
      initStorage();
      resetDropsIfDayChanged();
      atualizarBarra();
      iniciarTimerQueda();

    })();
  </script>

</body>

</html>